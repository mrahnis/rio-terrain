language: python
sudo: false
cache:
  directories:
  - "$HOME/.pip-cache/"
env:
  global:
  - PIP_WHEEL_DIR=$HOME/.cache/pip/wheels
  - PIP_FIND_LINKS=file://$HOME/.cache/pip/wheels
python:
- '3.6'
addons:
  apt:
    packages:
    - gdal-bin
    - libgdal-dev
install:
- pip install cython
- pip wheel -r requirements.txt
- pip install .
script: pytest
deploy:
  provider: pypi
  user: mrahnis
  password:
    secure: lctFLmTbAyftivDfD+u4l1XsS1YLm16WMkI6ikAOO1GPBhgd0uYd6dPXjkn8zc+EkbbwmRzlKWTx6T46fJ8yXSvyvI0ePzvOjx9flHu9RPElIpXoP6RtxK7Hn+yrdQOrlS554DdXEjHu+UBvKjZFbzXl8+38BzWI8mg/rLrjaaXyFoV2Itt13HYhTUyxoBNTHeqRqrYdZ+e3lOcKOv/rnC+UqHApmxHq4v1uK03dWnhB2udesMaW2fbg6v77nKSa1UQSrgz2rL99XkrxohgOom2uTotAc/tCFUUiTTyjOz1Q1FHAHR3M16EaWhRtSnVi3ZcfwBi3bPFz2OThGrux2D3nXiCYfVAfIchO8vYCucTaspZukaqi558SCO8SV6tvIDHi4gdoGQYZqhSJsCatRRqoBis0WRKP1o2TFsS7mnWaBSpcdRW/ZjKESOvSSgr/TQ4NbRyKyrvwoi0nECnAcFo5Zpyda0nCTOZgLf4yxVYBUwnLoDr4SZjpAIG+owVuXu19m8mfKY2EfJPt4sOqHA2WMUQila4SAIw+22ZjtK8vbkUAT/1/+lPo8SGM4Ubxiu81gLnrNdzin5dKhKB4+j/vrXnS/aBPsFWg+dq4ZN0dDOEFgYyDcyVi37W3DQXcm/heoe34J8Jj3T2ioq8xpIZ8fhMesxC0qcKZM8dndAw=
  on:
    tags: true
    distributions: sdist bdist_wheel
    repo: mrahnis/rio-terrain
  skip_cleanup: true
